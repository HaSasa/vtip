!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.Vtip=e(t.Vue)}(this,function(t){"use strict";function e(t,e){if(t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.width,r=i.height,s=n.width,a=n.height,l=n.top-i.top,u=n.left-i.left,c=n.right-i.left,d=n.bottom-i.top,p=u+s/2,f=l+a/2,h={tl:{x:u,y:l},tr:{x:c,y:l},br:{x:c,y:d},bl:{x:u,y:d}};return{width:s,height:a,margin:{top:{placement:"top",size:l,start:h.tl,mid:{x:p,y:l},end:h.tr},bottom:{placement:"bottom",size:r-d,start:h.bl,mid:{x:p,y:d},end:h.br},left:{placement:"left",size:u,start:h.tl,mid:{x:u,y:f},end:h.bl},right:{placement:"right",size:o-c,start:h.tr,mid:{x:c,y:f},end:h.br}}}}}function n(t){return t.sort(function(t,e){return e.weight-t.weight})[0]}function i(t){var e=window.getComputedStyle(t,null);return d.some(function(t){return~p.indexOf(e[t])})}function o(t){if(!t)return f;for(var e=t.parentNode;e&&e!==f;){if(i(e))return e;e=e.parentNode}return f}function r(t,e){var n=t.placement,i=t.mid,o=t.tw,r=t.th;switch(n){case"top":return{placement:"top-mid",x:i.x-o/2,y:i.y-r-e};case"bottom":return{placement:"bottom-mid",x:i.x-o/2,y:i.y+e};case"left":return{placement:"left-mid",x:i.x-o-e,y:i.y-r/2};case"right":return{placement:"right-mid",x:i.x+e,y:i.y-r/2}}}function s(t,e){var n=t.placement,i=t.start,o=t.end,r=t.dHor,s=t.dVer,a=t.tw,l=t.th,u=t.ew,c=t.eh,d=r>0,p=s>0;switch(n){case"top":return{placement:d?"top-end":"top-start",x:d?o.x-a:i.x,y:i.y-l-e,arrowsOffset:u/2};case"bottom":return{placement:d?"bottom-end":"bottom-start",x:d?o.x-a:i.x,y:o.y+e,arrowsOffset:u/2};case"left":return{placement:p?"left-end":"left-start",x:i.x-a-e,y:p?o.y-l:i.y,arrowsOffset:c/2};case"right":return{placement:p?"right-end":"right-start",x:o.x+e,y:p?o.y-l:i.y,arrowsOffset:c/2}}}function a(t,i,o,r,s){if(t&&o){var a=r&&r.length?r:v,l=e(t,i),u=l.width,c=l.height,d=l.margin,p=o.getBoundingClientRect(),f=p.width,g=p.height,b=(f-u)/2,w=(g-c)/2,x=a.length,_=Object.keys(d).map(function(t){var e=d[t],n=a.indexOf(e.placement);e.weight=n>-1?y-n:y-x;var i=~h.indexOf(e.placement)&&e.size>g+s,o=i&&d.left.size>b&&d.right.size>b,r=m.indexOf(e.placement)>-1&&e.size>f+s,l=r&&d.top.size>w&&d.bottom.size>w;return e.dVer=d.top.size-d.bottom.size,e.dHor=d.left.size-d.right.size,e.mod="edge",o||l?(e.mod="mid",e.weight+=3+e.weight/y,e):((i||r)&&(e.weight+=2+e.weight/y),e)});return Object.assign({ew:u,eh:c,tw:f,th:g,dw:b,dh:w},n(_))}}function l(t,e,n){var i=e+"px",o=e-2*n+"px";return{"top-start":{top:"100%",left:i},"top-mid":{top:"100%",left:"50%"},"top-end":{top:"100%",right:o},"bottom-start":{top:"0",left:i},"bottom-mid":{top:"0",left:"50%"},"bottom-end":{top:"0",right:o},"left-start":{top:i,left:"100%"},"left-mid":{top:"50%",left:"100%"},"left-end":{bottom:o,left:"100%"},"right-start":{top:i,left:"0"},"right-mid":{top:"50%",left:"0"},"right-end":{bottom:o,left:"0"}}[t]}function u(t){return t=t||{},S?(Object.assign(S,_,t),S.target?S.updateTip():S.hiddenTip(),S):((S=new w({propsData:t}).$mount()).updateTip(),S)}function c(t){t._tipHandler&&(t.removeEventListener("click",t._tipHandler),t.removeEventListener("mouseenter",t._tipHandler)),t._tipMouseleaveHandler&&t.removeEventListener("mouseleave",t._tipMouseleaveHandler),delete t._tipHandler,delete t._tipMouseleaveHandler,delete t._tipOptions,delete t._tipInstance}t=t&&t.hasOwnProperty("default")?t.default:t;var d=["overflow","overflow-x","overflow-y"],p=["scroll","auto"],f=document.body,h=["top","bottom"],m=["left","right"],v=["top","right","bottom","left"],y=4,g=!1;document.addEventListener("passive-check",function(){},{get passive(){g={passive:!0}}});var b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"v-tip-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.tipVisible,expression:"tipVisible"}],staticClass:"v-tip-container",class:t.boxClass,style:t.boxStyle,on:{mouseenter:function(e){t.mouseEntered=!0},mouseleave:function(e){t.mouseEntered=!1}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.placement,expression:"placement"}],staticClass:"v-tip-arrows",class:t.placement,style:t.arrowBox}),t._v(" "),t.title?n("h4",{staticClass:"v-tip-title",domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t.content?n("p",{staticClass:"v-tip-content",style:t.contentHeight,domProps:{textContent:t._s(t.content)}}):t._e(),t._v(" "),t.customComponent?n(t.customComponent,t._g(t._b({tag:"component",on:{hidden:function(e){t.hiddenTip(!0)}}},"component",t.customProps,!1),t.customListeners)):t._e(),t._v(" "),t._t("default")],2)])},staticRenderFns:[],name:"Vtip",props:{title:{type:String,default:""},content:{type:String,default:""},customProps:{type:Object,default:function(){return{}}},customComponent:{type:[String,Function,Object],default:""},customListeners:Object,target:null,container:null,placements:{type:Array,default:function(){return["top","right","bottom","left"]}},duration:{type:Number,default:400},transition:Boolean,arrowsSize:{type:Number,default:8},width:{type:[String,Number],default:"200px"},height:{type:[String,Number],default:"auto"},zIndex:{type:Number,default:999},theme:{type:String,default:"light"},customClass:{type:String,default:""}},data:function(){return this.containerNode=null,this.targetParentNode=null,this.visibleTimer=null,{placement:"",tipVisible:!1,mouseEntered:!1,arrowsPos:{}}},computed:{arrowBox:function(){return Object.assign({borderWidth:this.arrowsSize+"px"},this.arrowsPos)},boxStyle:function(){var t=this.width;return{width:"string"==typeof t?t:t+"px",zIndex:this.zIndex}},boxClass:function(){return[this.customClass,this.theme,this.transition?"transition-transfrom":""]},contentHeight:function(){var t=this.height;return{height:"string"==typeof t?t:t+"px"}}},watch:{mouseEntered:function(t){t||this.setTipDurationVisible(!1)}},beforeDestroy:function(){this.clearScrollEvent()},methods:{showTip:function(){clearTimeout(this.visibleTimer),this.tipVisible=!0},hiddenTip:function(t){t?this.tipVisible=!1:this.setTipDurationVisible(!1)},updateTip:function(){this.setContainerNode(),this.showTip(),this.asynSetCoordinate()},setContainerNode:function(){var t=this.$el,e=this.target,n=this.container,r=this.targetParentNode,s=this.containerNode;if(e&&e.parentNode!==r){this.targetParentNode=e.parentNode;var a=n||o(e);if(a!==s){t.parentNode!==a&&a.appendChild(t);var l=window.getComputedStyle(a,null).position;l&&"static"!==l||(a.style.position="relative"),s&&s.removeEventListener("scroll",this.scrollHandler,g),i(a)&&a.addEventListener("scroll",this.scrollHandler,g),this.containerNode=a}}},setCoordinate:function(){var t=this.$el,e=this.target,n=this.containerNode,i=this.placements,o=this.arrowsSize;if(t&&e&&n){var l=a(e,n,t,i,o),u="mid"===l.mod?r(l,o):s(l,o);this.setArrowsPos(u),this.placement=u.placement;var c=u.x+n.scrollLeft,d=u.y+n.scrollTop;this.$el.style.transform="translate3d("+c+"px, "+d+"px, 0)"}},asynSetCoordinate:function(){this.$nextTick(this.setCoordinate)},setArrowsPos:function(t){var e=t.placement,n=t.arrowsOffset;this.arrowsPos=l(e,n,this.arrowsSize)},setTipDurationVisible:function(t){var e=this;null==this.duration||this.duration<=0||(clearTimeout(this.visibleTimer),this.visibleTimer=setTimeout(function(){e.tipVisible=t||e.mouseEntered,e.visibleTimer=null},this.duration))},scrollHandler:function(t,e){var n=void 0;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,o)},e)}}(function(){this.setCoordinate()},200),clearScrollEvent:function(){this.containerNode&&this.containerNode.removeEventListener("scroll",this.scrollHandler,g)}}},w=t.extend(b),x=b.props,_={};Object.keys(x).forEach(function(t){var e=x[t],n=e.default;e&&null!=e.default&&(_[t]="function"==typeof n?n():n)});var S=null,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){this.value=t}function e(e){function n(o,r){try{var s=e[o](r),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):r=null}var o,r;this._invoke=function(t,e){return new Promise(function(i,s){var a={key:t,arg:e,resolve:i,reject:s,next:null};r?r=r.next=a:(o=r=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();return{tip:u,directive:{install:function(t,e){var n=(e=e||{}).directiveName||"tip",i=["top","right","bottom","left"];t.directive(n,{bind:function(t,e){c(t);var n=e.modifiers,o=n.click,r=n.dark,s=n.transition,a=i.filter(function(t){return e.modifiers[t]});t._tipOptions=e.value,t._tipHandler=function(){if(null!=this._tipOptions){var t=this._tipOptions,e={placementQueue:a.length?a:i,transition:s,theme:r?"dark":"light"},n="object"===(void 0===t?"undefined":C(t))?Object.assign(e,t,{target:this}):Object.assign(e,{content:String(t),target:this});this._tipInstance=u(n)}},t._tipMouseleaveHandler=function(){this._tipInstance&&this._tipInstance.hiddenTip()},o?t.addEventListener("click",t._tipHandler):t.addEventListener("mouseenter",t._tipHandler),t.addEventListener("mouseleave",t._tipMouseleaveHandler)},update:function(t,e){var n=e.value;n!==e.oldValue&&(t._tipOptions=n)},unbind:function(t){var e=t._tipInstance;e&&e.clearScrollEvent&&e.clearScrollEvent(),c(t)}})}}}});
